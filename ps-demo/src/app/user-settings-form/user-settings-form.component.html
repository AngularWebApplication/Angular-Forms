<div class="container">
  <h2>User Settings</h2>
  <form #form='ngForm' (ngSubmit)='onSubmit(form)'>
    <div class="form-group">
      <label for="name">Name</label>
      <input id="name" name="name" type="text" class="form-control" [(ngModel)]='userSettings.name' required
        #nameField='ngModel' [class.field-error]='form.submitted && nameField.invalid' (blur)='onBlur(nameField)'>
      <div [hidden]='!form.submitted ||  nameField.valid' class="alert alert-danger">
        Enter a name
      </div>
    </div>

    <button type="button" class="btn btn-primary" [(ngModel)]="userSettings.singleModel" btnCheckbox
      btnCheckboxTrue="On" btnCheckboxFalse="Off" name="singleModel">
      {{this.userSettings.singleModel}}
    </button>

    <div class="form-group">
      <label for="startDate">Start Date</label>
      <input type="text"
           placeholder="Start Date"
           class="form-control"
           bsDaterangepicker [(ngModel)]="userSettings.startDate" name="startDate" id="startDate">
    </div>

    <pre class="alert alert-info">Start Date: {{userSettings.startDate}}</pre>

    <div class="form-group">
      <label for="startTime">Start Time</label>
      <timepicker [(ngModel)]="userSettings.startTime" name="startTime" id="startTime"></timepicker>
    </div>

    <pre class="alert alert-info">Time is {{userSettings.startTime}}</pre>

    <div class="form-group">
      <label for="userRating">User Rating</label>
      <rating [(ngModel)]="userSettings.rating" [max]="maxRating" [readonly]="isReadonly"
        [titles]="['one','two','three']" name="userRating" id="userRating"></rating>
    </div>
    <div class="card">
      <pre class="card-block card-header" style="margin: 15px 0;">Rating: <b>{{userSettings.rating}}</b> </pre>
    </div>

    <div class="form-check form-group">
      <input class="form-check-input" type="checkbox" id="emailOffers" name="emailOffers"
        [(ngModel)]='userSettings.emailOffers'>
      <label class="form-check-label" for="emailOffers">Email Special Offers</label>
    </div>
    <p>User Interface Style</p>
    <div class="form-group">
      <div class="btn-group">
        <label class="btn btn-primary" [(ngModel)]='userSettings.interfaceStyle' name="interfaceStyle" btnRadio="Light"
          tabindex="0" role="button">Light</label>
        <label class="btn btn-primary" [(ngModel)]='userSettings.interfaceStyle' name="interfaceStyle" btnRadio="Medium"
          tabindex="0" role="button">Medium</label>
        <label class="btn btn-primary" [(ngModel)]='userSettings.interfaceStyle' name="interfaceStyle" btnRadio="Dark"
          tabindex="0" role="button">Dark</label>
      </div>
    </div>
    <div class="form-group">
      <label for="subscriptionType">Subscription Type</label>
      <select class="form-control" id="subscriptionType" name="subscriptionType">
        <option *ngFor="let type of userSettings.subscriptionTypes | async">
          {{type}}
        </option>
      </select>
    </div>
    <div class="form-group">
      <label for="notes">Notes</label>
      <textarea id="notes" name="notes" class="form-control" rows="3" [(ngModel)]='userSettings.notes'></textarea>
    </div>
    <div [hidden]='!postError' class="alert alert-danger">
      {{postErrorMessage}}
    </div>
    <button class="btn btn-primary">Send</button>
  </form>
</div>
